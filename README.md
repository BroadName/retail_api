# Дипломный проект на основе Django Rest Framework

## О проекте
### retail_api - это веб-приложение, разработанное на основе Django Rest Framework. Проект представляет собой RESTful API, для автоматизации закупок в розничной сети.

### Функциональность
- Аутентификация и авторизация пользователей с помощью почты
- Импорт товаров для магазинов
- Создание заказов с возможностью добавления/удаления продуктов к текущему заказу
- Обновление контактной информации/личной информации
- Возможность просматривать список заказов/продуктов/контактной информации
- Возможность просматривать детальную информацию о заказе
- Подтверждение заказа

### Технологии
- Django Rest Framework
- Python 3.x
- PostgreSQL

### Установка
Клонировать репозиторий:
```bash
git clone https://github.com/BroadName/retail_api.git
```
Перейти в папку проекта:
```bash
cd project
```
Создать Docker image с помощью команды:
```bash
docker-compose build
```
Запустить контейнер с помощью команды:
```bash
docker-compose up -d
```
Для создания супер-пользователя:
```bash
docker exec -it my_container python manage.py createsuperuser
```
Следуем инструкциям в командной строке.

### Использование

Открыть веб-браузер и перейти на адрес http://localhost:8000/api/v1/ или использовать Postman для API-запросов.
Использовать API для взаимодействия с базой данных заказов.

### Примеры запросов:

- Для загрузки товаров из файла необходимо отправить POST-запрос на адрес http://localhost:8000/api/v1/upload/ с прямой ссылкой на файл с товарами.
```
{"url": "https://raw.githubusercontent.com/BroadName/retail_api/refs/heads/main/shop1.yaml"}
```
- Добавление контактной информации к пользователю. POST-запрос на http://127.0.0.1:8000/api/v1/add_contact/
```
{
    "city": "Москва",
    "street": "Ленина",
    "house": "10",
    "structure": "",
    "building": "",
    "apartment": "4",
    "user": 1,
    "phone": "89008007766",
    "additional_desc": ""
}
```

- Получить список товаров. GET-запрос на http://127.0.0.1:8000/api/v1/products/

- При добавлении товара, заказ создаётся автоматически. POST-запрос на http://127.0.0.1:8000/api/v1/add_order_items/
```
{
    "contact": 1,
    "order_items": 
        [
            {
                "product": 
                {
                    "id": 1
                },
                "quantity": 1,
                "shop": 2
            },

            {
                "product": 
                {
                    "id": 3
                },
                "quantity": 1,
                "shop": 2
            }
        ]
}
```
